<config>
  <global>
    <logfileRootDir>TestResults</logfileRootDir>
    <defaultSnapshot>ICABase</defaultSnapshot>
    <imageStoreDir>\\unc\path</imageStoreDir>
    <LisaInitScript>
      <file>.\setupScripts\CreateVMs.ps1</file>
    </LisaInitScript>
    <email>
      <recipients>
        <to>myself@mycompany.com</to>
      </recipients>
      <sender>myself@mycompany.com</sender>
      <subject>LCOW Tests Results</subject>
      <smtpServer>mysmtphost.mycompany.com</smtpServer>
    </email>
    <testParams>
      <param>SSH_PRIVATE_KEY=rhel5_id_rsa</param>
      <param>snapshotName=ICABase</param>
      <param>REMOTE_USER=root</param>
      <param>ssh_key=rhel5_id_rsa</param>
    </testParams>
  </global>
  <testSuites>
    <suite>
      <suiteName>LCOW</suiteName>
      <suiteTests>
        <suiteTest>InstallKernel</suiteTest>
        <suiteTest>MainVM_Checkpoint</suiteTest>
        <suiteTest>LKP</suiteTest>
      </suiteTests>
    </suite>
  </testSuites>
  <testCases>
    <test>
      <testName>InstallKernel</testName>
      <preTest>setupScripts\upload_files.ps1</preTest>
      <testScript>install_lcow_kernel.sh</testScript>
      <files>remote-scripts\ica\install_lcow_kernel.sh,remote-scripts\ica\utils.sh</files>
      <timeout>2000</timeout>
      <onError>Abort</onError>
      <noReboot>False</noReboot>
    </test>
    <test>
      <testName>MainVM_Checkpoint</testName>
      <testScript>setupscripts\PreVSS_TakeSnapshot.ps1</testScript>
      <timeout>600</timeout>
      <testParams>
        <param>TC_COVERED=snapshot</param>
        <param>snapshotVm=main</param>
        <param>snapshotName=ICABase</param>
      </testParams>
      <onError>Abort</onError>
      <noReboot>False</noReboot>
    </test>
    <test>
      <testName>LKP</testName>
      <testScript>LKP_test.sh</testScript>
      <files>remote-scripts/ica/LKP_test.sh,remote-scripts\ica\utils.sh</files>
      <postTest>setupScripts\download_files.ps1</postTest>
      <timeout>28800</timeout>
      <onError>Continue</onError>
      <testparams>
        <param>LOG_DIR=/test/lkp</param>
        <param>TC_COVERED=LTP-01</param>
        <param>LOGS=/test/lkp</param>
      </testparams>
    </test>
  </testCases>
  <VMs>
    <vm>
      <role>SUT1</role>
      <hvServer>localhost</hvServer>
      <vmName>LCOW-VM</vmName>
      <os>Linux</os>
      <ipv4>192.168.0.10</ipv4>
      <sshKey>rhel5_id_rsa.ppk</sshKey>
      <suite>LCOW</suite>
      <hardware>
        <create>true</create>
        <numCPUs>8</numCPUs>
        <memSize>16384</memSize>
        <disableDiff>True</disableDiff>
        <generation>1</generation>
        <nic>VMBus,External</nic>
        <nic>VMBus,Internal</nic>
      </hardware>
    </vm>
  </VMs>
</config>